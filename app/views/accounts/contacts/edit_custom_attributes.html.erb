<%= turbo_frame_tag "form_custom_attributes_#{@contact.class.name.downcase}_#{@contact.id}" do %>
  <%= form_with(
    model: @contact,
    url: account_contact_update_custom_attributes_path(current_user.account, @contact),
    data: { turbo_frame: "form_#{@contact.class.name.downcase}_#{@contact.id}" }
    ) do |form| %>
    <div class="h-full w-full" data-controller="custom-attributes-add">
      <%= form.select :att_key, @custom_attribute_definitions.collect { |att| [att.attribute_display_name, att.attribute_key] }, { prompt: 'Buscar', selected: '', disabled: ''}, { class: 'w-full my-3 rounded-md border-light-palette-p2 bg-light-palette-p5 select2',  data: { 'custom-attributes-add-target': "select", action: 'change->custom-attributes-add#changed'} } %>
      <div data-custom-attributes-add-target="formFields" hidden="">
        <%= form.text_field 'att_value', class: 'w-full my-3 rounded-md border-light-palette-p2 bg-light-palette-p5' %>
        <%= form.submit 'Confirmar', class: 'h-6 w-full  border-t-2 border-light-palette-p3 bg-brand-palette-03 text-light-palette-p5' %>
      </div>
    </div>
  <% end %>
<% end %>
